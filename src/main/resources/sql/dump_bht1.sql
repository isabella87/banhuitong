REM Generated at 2018-06-06 09:32:51
REM PRODUCT VERSION: Oracle Database 11g Enterprise Edition 11.2.0.3.0 64bit Production
REM USER: BHT1

REM Create common procedures
CREATE OR REPLACE PROCEDURE "DROP_TABLE_IF_EXISTS" (V_TABLE_NAME VARCHAR2) IS
BEGIN
  EXECUTE IMMEDIATE 'DROP TABLE ' || V_TABLE_NAME;
EXCEPTION
  WHEN OTHERS THEN
    IF SQLCODE <> -0942 THEN
      RAISE;
    END IF;
END DROP_TABLE_IF_EXISTS;
/
CREATE OR REPLACE PROCEDURE "DROP_SEQUENCE_IF_EXISTS" (V_SEQUENCE_NAME VARCHAR2) IS
BEGIN
  EXECUTE IMMEDIATE 'DROP SEQUENCE ' || V_SEQUENCE_NAME;
EXCEPTION
  WHEN OTHERS THEN
    IF SQLCODE <> -2289 THEN
      RAISE;
    END IF;
END DROP_SEQUENCE_IF_EXISTS;
/

REM Drop tables
CALL DROP_TABLE_IF_EXISTS('SYS_TABLE_INFO');
CALL DROP_TABLE_IF_EXISTS('SYS_MODULE_INFO');
/

REM Create Table SYS_MODULE_INFO
CREATE TABLE "SYS_MODULE_INFO" (
	"SMI_ID" NUMBER NOT NULL,
	"MODULE_NAME" VARCHAR2(80 CHAR) NOT NULL,
	"MODULE_NO" NUMBER NOT NULL,
	"MUDULE_SHORT_NAME" VARCHAR2(40 CHAR) NOT NULL,
	"MUDULE_DESC" VARCHAR2(400 CHAR) NOT NULL,
	"CREATOR" VARCHAR2(80 CHAR) NOT NULL,
	"CREATE_TIME" DATE NOT NULL
);
COMMENT ON TABLE "SYS_MODULE_INFO" IS '系统模块信息表';
REM Column comments SYS_MODULE_INFO
COMMENT ON COLUMN "SYS_MODULE_INFO"."SMI_ID" IS '主键';
COMMENT ON COLUMN "SYS_MODULE_INFO"."MODULE_NAME" IS '所属模块名称';
COMMENT ON COLUMN "SYS_MODULE_INFO"."MODULE_NO" IS '模块代码';
COMMENT ON COLUMN "SYS_MODULE_INFO"."MUDULE_SHORT_NAME" IS '模块名简称（对应模块表以该值为前缀）';
COMMENT ON COLUMN "SYS_MODULE_INFO"."MUDULE_DESC" IS '模块简述';
COMMENT ON COLUMN "SYS_MODULE_INFO"."CREATOR" IS '创建人';
COMMENT ON COLUMN "SYS_MODULE_INFO"."CREATE_TIME" IS '创建时间';
REM Primary key SYS_MODULE_INFO
ALTER TABLE "SYS_MODULE_INFO" ADD CONSTRAINT "SYS_MODULE_INFO_PK" PRIMARY KEY (SMI_ID) USING INDEX;
/

REM Create Table SYS_TABLE_INFO
REM Depend on table(s)
REM [SYS_MODULE_INFO]
CREATE TABLE "SYS_TABLE_INFO" (
	"STI_ID" NUMBER NOT NULL,
	"TABLE_NAME" VARCHAR2(80 CHAR) NOT NULL,
	"SMI_ID" NUMBER DEFAULT 0 NOT NULL,
	"TABLE_COMMENTS" VARCHAR2(400 CHAR) NULL,
	"REMARK" VARCHAR2(400 CHAR) NULL,
	"CREATOR" VARCHAR2(20) NOT NULL,
	"CREATE_TIME" DATE NOT NULL
);
COMMENT ON TABLE "SYS_TABLE_INFO" IS '系统表名信息表';
REM Column comments SYS_TABLE_INFO
COMMENT ON COLUMN "SYS_TABLE_INFO"."STI_ID" IS '主键';
COMMENT ON COLUMN "SYS_TABLE_INFO"."TABLE_NAME" IS '表名';
COMMENT ON COLUMN "SYS_TABLE_INFO"."SMI_ID" IS '系统模块表外键';
COMMENT ON COLUMN "SYS_TABLE_INFO"."TABLE_COMMENTS" IS '表注释（此列的信息可来自各表的注释，也可后台录入）';
COMMENT ON COLUMN "SYS_TABLE_INFO"."REMARK" IS '备注（对表包含内容的简要介绍，或者表在逻辑内的简述）';
COMMENT ON COLUMN "SYS_TABLE_INFO"."CREATOR" IS '创建人';
COMMENT ON COLUMN "SYS_TABLE_INFO"."CREATE_TIME" IS '创建时间';
REM Primary key SYS_TABLE_INFO
ALTER TABLE "SYS_TABLE_INFO" ADD CONSTRAINT "SYS_TABLE_INFO_PK" PRIMARY KEY (STI_ID) USING INDEX;
REM Foreign keys SYS_TABLE_INFO
ALTER TABLE "SYS_TABLE_INFO" ADD CONSTRAINT "SYS_TABLE_INFO_FK1" FOREIGN KEY (SMI_ID) REFERENCES "SYS_MODULE_INFO" (SMI_ID) ON DELETE CASCADE;
/

REM Drop sequences
/


